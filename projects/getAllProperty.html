<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inspect Window / Document / Element</title>
    <style>
      :root {
        --bg-color: #0f172a;
        --card-bg: #020617;
        --border-color: #1e293b;
        --text-color: #e5e7eb;
        --accent: #38bdf8;
        --accent-soft: rgba(56, 189, 248, 0.08);
        --muted: #9ca3af;
        --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        padding: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: #020617;
        color: var(--text-color);
        height: 100vh;
        overflow: hidden;
      }

      .page {
        display: flex;
        flex-direction: column;
        height: 100%;
      }

      header {
        padding: 16px 24px;
        border-bottom: 1px solid var(--border-color);
        background: rgba(15, 23, 42, 0.95);
        backdrop-filter: blur(12px);
      }

      main {
        flex: 1;
        overflow-y: auto;
        padding: 24px;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
        gap: 26px;
      }

      /* ðŸ”¥ Increased card size & auto-resizing */
      .card {
        background: #0b1221;
        border-radius: 18px;
        border: 1px solid var(--border-color);
        box-shadow: 0px 12px 32px rgba(0, 0, 0, 0.7);
        padding: 16px;
        display: flex;
        flex-direction: column;

        /* Full height support */
        min-height: 380px;
        height: auto;
      }

      .card-body {
        flex: 1;
        margin-top: 10px;
        padding: 10px;
        border-radius: 12px;
        background: rgba(15, 23, 42, 0.92);
        border: 1px solid rgba(56, 189, 248, 0.3);

        overflow-y: auto;

        /* Larger readable area */
        max-height: calc(100vh - 260px);
      }

      ul.list {
        list-style: none;
        padding: 0;
        margin: 0;
        line-height: 1.4;
        font-family: var(--font-mono);
        font-size: 0.85rem;
      }

      ul.list li {
        padding: 4px 6px;
        border-radius: 4px;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      /* Improve mobile layout */
      @media (max-width: 600px) {
        main {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="page">
      <header>
        <h1>
          <span></span>
          JS Runtime Inspector
        </h1>
        <div class="badge">window Â· document Â· element</div>
      </header>

      <main>
        <section class="card">
          <div class="card-header">
            <div class="card-title">
              <span class="card-title-dot"></span>
              window properties
            </div>
            <div class="count-pill" id="window-count">0 props</div>
          </div>
          <p class="helper-text">
            Global browser object. Things like <code>setTimeout</code>,
            <code>localStorage</code>, etc.
          </p>
          <div class="card-body">
            <ul id="window-list" class="list"></ul>
          </div>
        </section>

        <section class="card">
          <div class="card-header">
            <div class="card-title">
              <span class="card-title-dot"></span>
              document properties
            </div>
            <div class="count-pill" id="document-count">0 props</div>
          </div>
          <p class="helper-text">
            Represents the loaded page. Access nodes, query elements, etc.
          </p>
          <div class="card-body">
            <ul id="document-list" class="list"></ul>
          </div>
        </section>

        <section class="card">
          <div class="card-header">
            <div class="card-title">
              <span class="card-title-dot"></span>
              &lt;div&gt; attributes
            </div>
            <div class="count-pill" id="attr-count">0 attrs</div>
          </div>
          <p class="helper-text">
            HTML attributes written in the markup (like <code>id</code>,
            <code>class</code>, etc).
          </p>
          <div class="card-body">
            <div class="element-preview">
              Target element:
              <code>&lt;div id="example" data-info="demo"&gt;&lt;/div&gt;</code>
              <div class="element-box">
                <div id="example" data-info="demo">
                  I am the inspected div
                  <span>(window â†’ document â†’ element â†’ attributes)</span>
                </div>
              </div>
            </div>
            <ul id="attr-list" class="list" style="margin-top: 8px"></ul>
          </div>
        </section>

        <section class="card">
          <div class="card-header">
            <div class="card-title">
              <span class="card-title-dot"></span>
              &lt;div&gt; JS properties
            </div>
            <div class="count-pill" id="elem-prop-count">0 props</div>
          </div>
          <p class="helper-text">
            JavaScript properties from the element object & its prototype chain.
          </p>
          <div class="card-body">
            <ul id="elem-prop-list" class="list"></ul>
          </div>
        </section>
      </main>
    </div>

    <script>
      // Utility: create list items in a <ul>
      function fillList(ulElement, items) {
        ulElement.innerHTML = "";
        const fragment = document.createDocumentFragment();
        items.forEach((item) => {
          const li = document.createElement("li");
          li.textContent = item;
          fragment.appendChild(li);
        });
        ulElement.appendChild(fragment);
      }

      // 1. Window properties
      console.log("Window Properties:");
      console.dir(window);

      const windowProperties = [];
      for (let prop in window) {
        windowProperties.push(prop);
      }
      windowProperties.sort();
      console.log(windowProperties);

      const windowList = document.getElementById("window-list");
      const windowCount = document.getElementById("window-count");
      fillList(windowList, windowProperties);
      windowCount.textContent = `${windowProperties.length} props`;

      // 2. Document properties
      console.log("Document Properties:");
      console.dir(document);

      const documentProperties = [];
      for (let prop in document) {
        documentProperties.push(prop);
      }
      documentProperties.sort();
      console.log(documentProperties);

      const documentList = document.getElementById("document-list");
      const documentCount = document.getElementById("document-count");
      fillList(documentList, documentProperties);
      documentCount.textContent = `${documentProperties.length} props`;

      // 3. Element attributes
      const element1 = document.querySelector("#example");

      if (element1) {
        console.log("HTML Attributes:");
        const attrList = [];
        for (let i = 0; i < element1.attributes.length; i++) {
          const attr = element1.attributes[i];
          attrList.push(`${attr.name} = "${attr.value}"`);
          console.log(`${attr.name}: ${attr.value}`);
        }

        const attrListEl = document.getElementById("attr-list");
        const attrCount = document.getElementById("attr-count");
        fillList(attrListEl, attrList);
        attrCount.textContent = `${attrList.length} attrs`;

        const idAttributeValue = element1.getAttribute("id");
        console.log(`ID attribute value: ${idAttributeValue}`);
      }

      // 4. Element JS properties (including prototype chain)
      const element2 = document.querySelector("#example");

      if (element2) {
        console.log("JavaScript Properties for element:");
        let elementProperties = [];
        let currentProto = element2;
        while (currentProto) {
          Object.getOwnPropertyNames(currentProto).forEach((prop) => {
            if (!elementProperties.includes(prop)) {
              elementProperties.push(prop);
            }
          });
          currentProto = Object.getPrototypeOf(currentProto);
        }
        elementProperties.sort();
        console.log(elementProperties);

        const elemPropListEl = document.getElementById("elem-prop-list");
        const elemPropCount = document.getElementById("elem-prop-count");
        fillList(elemPropListEl, elementProperties);
        elemPropCount.textContent = `${elementProperties.length} props`;
      }
    </script>
  </body>
</html>
